<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pendaftaran</title>
     <!-- internal css -->
     <style>
        .area_component {
          display: flex;
          align-items: center;
          margin: 10px;
        }
        .area_label {
          width: 15%;
        }
        .area_input {
          width: 85%;
        }
        .txt_component {
          width: 30%;
        }
        .btn_component {
          outline: 0;
          border-radius: 25px;
          border: 1px solid #333333;
          height: 40px;
          padding: 10px 30px;
          cursor: pointer;
          background: #f3f3f3;
        }
        table {
          border-collapse: collapse;
          width: 100%;
        }
  
        .frame_table {
          border: 1px solid #333333;
          height: 30px;
          padding: 10px;
        }
  
        .frame_header {
          background: #f3f3f3;
          height: 30px;
          padding: 10px;
        }
  
        .remove_cell {
          background-color: #ffbbbb;
          cursor: pointer;
        }
        .btn-back {
        display: inline-block;
        padding: 10px 20px;
        background-color: sandybrown;
        color: white;
        text-decoration: none;
        transition: background-color 0.3s ease;
        border-radius: 10px;
        margin-top: 15px;
      }

      .btn-back:hover {
        background-color: teal;
        color: wheat;
      }
      </style>
</head>
<body>
    <div>
      <a href="index.html" class="btn-back">Kembali</a>
    </div>
    <div>
      <h2 style="text-align: center;">Pendaftaran Siswa/Siswi</h2><br>
    </div>
      <!-- area component Nama-->
      <section class="area_component">
        <!-- area label -->
        <section class="area_label">
          <label for="txt_nama">Nama Lengkap</label>
        </section>
  
        <!-- area input -->
        <section class="area_input">
          <input
            type="text"
            name=""
            id="txt_nama"
            placeholder="Isi Nama Anda"
            class="txt_component"
          />
        </section>
      </section>
    
       <!-- area component Jenis kelamin-->
     <section class="area_component">
        <!-- area label -->
        <section class="area_label">
          <label for="txt_gender">Jenis Kelamin</label>
        </section>
  
        <!-- area input -->
        <section class="area_input">
          <input
            type="radio"
            name="gender"
            id="pria"
            value="Pria"  
        />
        <label for="pria">Pria</label>
        <input
            type="radio"
            name="gender"
            id="wanita"
            value="Wanita"  
        />
        <label for="wanita">Wanita</label>
        </section>
      </section>

     <!-- area component tempat tanggal lahir-->
     <section class="area_component">
        <!-- area label -->
        <section class="area_label">
          <label for="txt_tanggal">Tanggal Lahir</label>
        </section>
  
        <!-- area input -->
        <section class="area_input">
          <input
            type="date"
            name="birthdate"
            id="txt_tanggal"
            class="txt_component"
          />
        </section>
      </section>

      <!-- area component -->
     <section class="area_component">
        <!-- area label -->
        <section class="area_label">
          <label for="txt_asal">Asal Sekolah</label>
        </section>
  
        <!-- area input -->
        <section class="area_input">
          <input
            type="text"
            name=""
            id="txt_asal"
            placeholder="Isi Asal Sekolah"
            class="txt_component"
          />
        </section>
      </section>
      
      <!-- area component -->
     <section class="area_component">
        <!-- area label -->
        <section class="area_label">
          <label for="txt_wa">Handphone/WA</label>
        </section>
  
        <!-- area input -->
        <section class="area_input">
          <input
            type="text"
            name="angka"
            id="txt_wa"
            placeholder="Isi Nomor Handphone" required
            class="txt_component"
            onkeypress="return hanyaAngka(event)"
          />
        </section>
      </section>

      <!-- area component -->
      <section class="area_component">
        <!-- area label -->
        <section class="area_label">
          <label for="txt_jurusan">Jurusan</label>
        </section>
  
        <!-- area input -->
        <section class="area_input">
          <select id="jurusan" name="jurusan">
            <option value="farmasi">Farmasi</option>
            <option value="teknologi-laboratorium-medis">Teknologi Laboratorium Medis</option>
            <option value="keperawatan">Keperawatan</option>
          </select>
        </section>
      </section>

      <!-- area component -->
     <section class="area_component">
      <!-- area label -->
      <section class="area_label">
        <label for="txt_alamat">Alamat</label>
      </section>

      <!-- area input -->
      <section class="area_input">
        <input
          type="text"
          name="alamat"
          id="txt_alamat"
          placeholder="Isi Alamat anda" required
          class="txt_component"
        />
      </section>
    </section>

      <!-- area component -->
      <section class="area_component">
        <!-- area tombol -->
        <button id="btn_tambah" class="btn_component">Tambah Data</button>
      </section>
  
      <!-- area tabel -->
      <table id="tbl_data">
        <!-- baris tabel -->
        <tr>
          <!-- kolom tabel (judul tabel) -->
            <th class="frame_table frame_header" style="width: 5%">Aksi</th>
            <th class="frame_table frame_header" style="width: 5%">No</th>
            <th class="frame_table frame_header" style="width: 10%">Alamat</th>
            <th class="frame_table frame_header" style="width: 15%">Nama Lengkap</th>
            <th class="frame_table frame_header" style="width: 10%">Jenis Kelamin</th>
            <th class="frame_table frame_header" style="width: 10%">Tanggal Lahir</th>
            <th class="frame_table frame_header" style="width: 15%">Asal Sekolah</th>
            <th class="frame_table frame_header" style="width: 10%">No Handphone</th>
            <th class="frame_table frame_header" style="width: 15%">Jurusan</th>
        </tr>
      </table>
  
      <!-- internal js -->
      <script>
        // inisialisasi variabel komponen
        let txt_nama = document.querySelector("#txt_nama");
        let txt_gender = document.querySelectorAll('input[name="gender"]');
        let txt_tanggal = document.querySelector("#txt_tanggal");
        let txt_asal = document.querySelector("#txt_asal");
        let txt_wa = document.querySelector("#txt_wa");
        let jurusan = document.querySelector("#jurusan");
        let txt_alamat = document.querySelector("#txt_alamat");
        let btn_tambah = document.querySelector("#btn_tambah");
        let tbl_data = document.querySelector("#tbl_data");

        // inisialisasi variabel untuk menampung array
        let data = [
            ["Natar", "Tri Yulian", "Pria", "1990-01-01", "SMP Surgawi", "08123456789", "Farmasi"],
            ["Jakarta", "Freyanashifa Jayawardana", "Wanita", "1995-05-05", "SMP 1 jakarta", "08234567890", "Teknologi Laboratorium Medis"],
            ["Sukarame", "Marsha Lenathea", "Wanita", "1998-08-08", "SMP Xaverius", "08345678901", "Keperawatan"],
            ["Kedaton", "Azizi Asadel", "Wanita", "2000-10-10", "SMP Fransiskus", "08456789012", "Farmasi"]
        ];

        // event pada saat "btn_tambah" di klik
        btn_tambah.addEventListener("click", () => {
            // jika salah satu data input belum diisi
            if (txt_nama.value == "" || !getSelectedGender() || txt_tanggal.value == "" || txt_asal.value == "" || txt_wa.value == "" || jurusan.value == "" || txt_alamat.value == "") {
                // tampilkan pesan
                alert("Lengkapi Seluruh Data !");
            }
            // jika seluruh data input sudah diisi
            else {
                // isi array dari nilai input
                data.push([
                   // generateId(),
                    txt_alamat.value,
                    txt_nama.value,
                    getSelectedGender(),
                    txt_tanggal.value,
                    txt_asal.value,
                    txt_wa.value,
                    jurusan.value
                ]);

                // panggil fungsi "viewData"
                viewData();
            }
        });

        // buat fungsi "clearComponent" untuk menghapus isi pada komponen input
        const clearComponent = () => {
            txt_nama.value = "";
            clearGenderSelection();
            txt_tanggal.value = "";
            txt_asal.value = "";
            txt_wa.value = "";
            jurusan.value = "";
            txt_alamat.value = "";
        };

        // buat fungsi "viewData" untuk menampilkan data array ke dalam tabel
        const viewData = () => {
            // inisialisasi variabel untuk baris tabel. diisi dengan nilai 0
            let baris_tabel = 0;
            // inisialisasi variabel untuk baris dan judul tabel
            let content_tabel = `<tr>
                <th class="frame_table frame_header" style="width: 5%">Aksi</th>
                <th class="frame_table frame_header" style="width: 5%">No</th>
                <th class="frame_table frame_header" style="width: 10%">Alamat</th>
                <th class="frame_table frame_header" style="width: 15%">Nama Lengkap</th>
                <th class="frame_table frame_header" style="width: 10%">Jenis Kelamin</th>
                <th class="frame_table frame_header" style="width: 10%">Tanggal Lahir</th>
                <th class="frame_table frame_header" style="width: 15%">Asal Sekolah</th>
                <th class="frame_table frame_header" style="width: 10%">No Handphone</th>
                <th class="frame_table frame_header" style="width: 15%">Jurusan</th>
            </tr>`;

            // lakukan perulangan "forEach" > (looping untuk array)
            // isi data > data yang akan ditampilkan ke tabel
            // looping data > jumlah data (array) yang akan ditampilkan ke tabel, dimana looping dimulai dari 0
            data.forEach((isi_data, looping_data) => {
                // buat baris isi
                content_tabel += "<tr>";

                // buat kolom untuk Hapus Data
                content_tabel += `<td class="frame_table remove_cell" style="text-align: center" onclick="removeData(${looping_data})">Hapus Data</td>`;
                // buat kolom untuk nomor
                content_tabel += `<td class="frame_table" style="text-align: center">${looping_data + 1}</td>`;
                // buat kolom untuk data npm
                content_tabel += `<td class="frame_table" style="text-align: center">${isi_data[0]}</td>`;
                // buat kolom untuk data nama
                content_tabel += `<td class="frame_table">${isi_data[1]}</td>`;

                // tambah kolom untuk data lainnya
                for (let i = 2; i < isi_data.length; i++) {
                    content_tabel += `<td class="frame_table">${isi_data[i]}</td>`;
                }

                // tutup baris isi
                content_tabel += "</tr>";

                // tambah baris baru (baris_tabel ditambah 1)
                baris_tabel++;
            });

            // tampilkan "content_tabel" ke dalam "tbl_data"
            tbl_data.innerHTML = content_tabel;

            // panggil fungsi "clearComponent"
            clearComponent();
        };

        // buat fungsi "removeData" untuk menghapus array berdasarkan index yang dipilih
        const removeData = (index) => {
            // jika tombol "Ok" di klik
            if (
                confirm(
                    `Data Mahasiswa : ${data[index][2]} (index ke-${index}) Ingin Dihapus ?`
                ) == true
            ) {
                // hapus array berdasarkan index yang dipilih
                data.splice(index, 1);

                // panggil fungsi "viewData"
                viewData();
            }
        };

        // buat fungsi "getSelectedGender" untuk mendapatkan jenis kelamin yang dipilih
        const getSelectedGender = () => {
            for (let i = 0; i < txt_gender.length; i++) {
                if (txt_gender[i].checked) {
                    return txt_gender[i].value;
                }
            }
            return null; // return null if no option is selected
        };

        // buat fungsi "clearGenderSelection" untuk membersihkan pilihan jenis kelamin
        const clearGenderSelection = () => {
            for (let i = 0; i < txt_gender.length; i++) {
                txt_gender[i].checked = false;
            }
        };

        // buat fungsi "generateId" untuk membuat ID sementara
        const generateId = () => {
            // generate ID based on timestamp
            return new Date().getTime().toString();
        };

        // script js hanya memasukkan angka
        function hanyaAngka(event) {
            var angka = (event.which) ? event.which : event.keyCode;
            if (angka != 46 && angka > 31 && (angka < 48 || angka > 57))
                return false;
            return true;
        }
    </script>

</body>
</html>